const {
    GoogleGenerativeAI,
    HarmCategory,
    HarmBlockThreshold,
  } = require("@google/generative-ai");
  
  const apiKey = process.env.EXPO_PUBLIC_GOOGLE_GEMINI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  

   export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location : Jejuri, Maharashtra, for 9 Days and 8 Night for Just Me with a Cheap budget with a Flight details, Flight Price with Booking url, Hotels Options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and Places to visit nearby with placeName, Place Details, Place Image Url, Geo coordinates, ticket pricing, Time to Travel each of the location for 9 Days and 8 Night with each day plan with best time to visit in JSON format"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"trip\": {\n    \"destination\": \"Jejuri, Maharashtra\",\n    \"duration\": \"9 Days and 8 Nights\",\n    \"travelerCount\": 1,\n    \"budget\": \"Cheap\",\n    \"flight\": {\n      \"departureAirport\": \"Your Departure Airport\", // Replace with your actual departure airport\n      \"arrivalAirport\": \"Pune Airport (PNQ)\", // Nearest airport to Jejuri\n      \"flightPrice\": null, // This will vary depending on the date and airline\n      \"bookingUrl\": null // This will be generated based on your search results\n    },\n    \"hotels\": [\n      {\n        \"hotelName\": \"Hotel Sai Leela\",\n        \"hotelAddress\": \"Near Jejuri Temple, Jejuri, Maharashtra 412303\",\n        \"price\": \"₹1000 - ₹1500 per night\",\n        \"hotelImageUrl\": \"https://images.google.com/search?q=hotel+sai+leela+jejuri&tbm=isch&ved=2ahUKEwj3q-O13K3AAxUq04kFHZ79BQQQ2-cCegQIABAA&oq=hotel+sai+leela+jejuri&gs_lcp=CgNpbWcQAzIECAAQQzICCAAyAggAMgIIADICCAAyAggAMgIIADICCAAyAggAMgIIADICCAAyAggAMgIIADoECAAQQzoFCAAQgAQ6BAgAEEM6BAgAEEM6BAgAEEM6BAgAEENQBRBDOgYIABAIEB46BAgAEB46BAgAEAo6BAgAEApQBAo6BAgAEApQBAo6BAgAEApQBAo6BAgAEApQBAo6BAgAEApQBAo6BAgAEApQBAg&sclient=img&ei=5i72Y5f8J-W6gQf8r6aYAQ&bih=657&biw=1366&hl=en\",\n        \"geoCoordinates\": \"18.3232, 74.0938\",\n        \"rating\": \"3.5 stars\",\n        \"description\": \"A simple and affordable hotel located near the Jejuri temple, offering basic amenities and comfortable rooms.\"\n      },\n      {\n        \"hotelName\": \"Hotel Shree Sai Residency\",\n        \"hotelAddress\": \"Near Jejuri Temple, Jejuri, Maharashtra 412303\",\n        \"price\": \"₹1200 - ₹1800 per night\",\n        \"hotelImageUrl\": \"https://www.goibibo.com/hotels/hotel-shree-sai-residency-jejuri-474088/overview\",\n        \"geoCoordinates\": \"18.3235, 74.0941\",\n        \"rating\": \"3 stars\",\n        \"description\": \"A budget-friendly hotel with clean and spacious rooms, offering amenities like Wi-Fi and a restaurant.\"\n      },\n      {\n        \"hotelName\": \"Hotel Khandoba\",\n        \"hotelAddress\": \"Near Jejuri Temple, Jejuri, Maharashtra 412303\",\n        \"price\": \"₹1500 - ₹2000 per night\",\n        \"hotelImageUrl\": \"https://www.tripadvisor.com/Hotel_Review-g1176308-d12475850-Reviews-Hotel_Khandoba-Jejuri_Maharashtra.html\",\n        \"geoCoordinates\": \"18.3230, 74.0939\",\n        \"rating\": \"4 stars\",\n        \"description\": \"A slightly more upscale option with comfortable rooms, a rooftop restaurant, and a beautiful view of the surrounding hills.\"\n      }\n    ],\n    \"placesToVisit\": [\n      {\n        \"placeName\": \"Jejuri Temple\",\n        \"placeDetails\": \"Dedicated to Lord Khandoba, a popular Hindu deity. Offers stunning views of the surrounding landscape.\",\n        \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c2/Jejuri_Temple.jpg/1200px-Jejuri_Temple.jpg\",\n        \"geoCoordinates\": \"18.3232, 74.0938\",\n        \"ticketPricing\": \"Free entry\",\n        \"timeToTravel\": \"2-3 hours\"\n      },\n      {\n        \"placeName\": \"Bhimashankar Wildlife Sanctuary\",\n        \"placeDetails\": \"Home to a diverse range of flora and fauna, including leopards, sloth bears, and langurs. Offers trekking trails and nature walks.\",\n        \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c2/Bhimashankar_Wildlife_Sanctuary_Entrance.jpg/1200px-Bhimashankar_Wildlife_Sanctuary_Entrance.jpg\",\n        \"geoCoordinates\": \"19.0869, 73.8186\",\n        \"ticketPricing\": \"₹50 per person\",\n        \"timeToTravel\": \"4-5 hours\"\n      },\n      {\n        \"placeName\": \"Lonavala and Khandala\",\n        \"placeDetails\": \"Popular hill stations known for their scenic beauty, waterfalls, and adventure activities.\",\n        \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c4/Lonavala-Khandala_Valley_From_Tiger_Point.jpg/1200px-Lonavala-Khandala_Valley_From_Tiger_Point.jpg\",\n        \"geoCoordinates\": \"18.7646, 73.4984\",\n        \"ticketPricing\": \"N/A (depends on individual attractions)\",\n        \"timeToTravel\": \"6-7 hours\"\n      },\n      {\n        \"placeName\": \"Rajmachi Fort\",\n        \"placeDetails\": \"A historical fort with stunning views of the surrounding valleys and the Sahyadri mountain range.\",\n        \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d4/Rajmachi_Fort.jpg/1200px-Rajmachi_Fort.jpg\",\n        \"geoCoordinates\": \"18.9599, 73.5102\",\n        \"ticketPricing\": \"Free entry\",\n        \"timeToTravel\": \"3-4 hours\"\n      },\n      {\n        \"placeName\": \"Torna Fort\",\n        \"placeDetails\": \"A challenging trek to the top of this fort offers breathtaking views of the Konkan region.\",\n        \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3c/Torna_Fort_from_top_with_view_of_Pune_city.jpg/1200px-Torna_Fort_from_top_with_view_of_Pune_city.jpg\",\n        \"geoCoordinates\": \"18.6319, 73.8229\",\n        \"ticketPricing\": \"Free entry\",\n        \"timeToTravel\": \"4-5 hours\"\n      },\n      {\n        \"placeName\": \"Pawna Lake\",\n        \"placeDetails\": \"A scenic lake popular for boating, camping, and enjoying the natural beauty.\",\n        \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/3/36/Pawna_Lake_04.jpg/1200px-Pawna_Lake_04.jpg\",\n        \"geoCoordinates\": \"18.8053, 73.6990\",\n        \"ticketPricing\": \"N/A (depends on activities)\",\n        \"timeToTravel\": \"2-3 hours\"\n      }\n    ],\n    \"dailyPlan\": [\n      {\n        \"day\": \"Day 1\",\n        \"activities\": [\n          {\n            \"activity\": \"Arrival at Pune Airport (PNQ) and transfer to Jejuri\",\n            \"time\": \"Morning\"\n          },\n          {\n            \"activity\": \"Check-in at Hotel Sai Leela\",\n            \"time\": \"Afternoon\"\n          },\n          {\n            \"activity\": \"Visit Jejuri Temple and explore the surrounding area\",\n            \"time\": \"Evening\"\n          }\n        ]\n      },\n      {\n        \"day\": \"Day 2\",\n        \"activities\": [\n          {\n            \"activity\": \"Visit Bhimashankar Wildlife Sanctuary\",\n            \"time\": \"Full Day\"\n          }\n        ]\n      },\n      {\n        \"day\": \"Day 3\",\n        \"activities\": [\n          {\n            \"activity\": \"Day trip to Lonavala and Khandala\",\n            \"time\": \"Full Day\"\n          }\n        ]\n      },\n      {\n        \"day\": \"Day 4\",\n        \"activities\": [\n          {\n            \"activity\": \"Trek to Rajmachi Fort\",\n            \"time\": \"Full Day\"\n          }\n        ]\n      },\n      {\n        \"day\": \"Day 5\",\n        \"activities\": [\n          {\n            \"activity\": \"Trek to Torna Fort\",\n            \"time\": \"Full Day\"\n          }\n        ]\n      },\n      {\n        \"day\": \"Day 6\",\n        \"activities\": [\n          {\n            \"activity\": \"Visit Pawna Lake and enjoy boating or camping\",\n            \"time\": \"Full Day\"\n          }\n        ]\n      },\n      {\n        \"day\": \"Day 7\",\n        \"activities\": [\n          {\n            \"activity\": \"Explore local markets in Jejuri and purchase souvenirs\",\n            \"time\": \"Morning\"\n          },\n          {\n            \"activity\": \"Relax at the hotel or enjoy a leisurely walk in the surrounding hills\",\n            \"time\": \"Afternoon\"\n          },\n          {\n            \"activity\": \"Enjoy a traditional Maharashtrian dinner at a local restaurant\",\n            \"time\": \"Evening\"\n          }\n        ]\n      },\n      {\n        \"day\": \"Day 8\",\n        \"activities\": [\n          {\n            \"activity\": \"Check out from the hotel and transfer to Pune Airport (PNQ)\",\n            \"time\": \"Morning\"\n          }\n        ]\n      },\n      {\n        \"day\": \"Day 9\",\n        \"activities\": [\n          {\n            \"activity\": \"Departure from Pune Airport (PNQ)\",\n            \"time\": \"Morning\"\n          }\n        ]\n      }\n    ]\n  }\n}\n```\n\n**Explanation:**\n\n* **Flight:** The flight section is empty because the specific flight details depend on your departure location and desired dates. You need to use a flight booking website like Kayak, Google Flights, or Skyscanner to get prices and book your flight.\n* **Hotels:**  The list provides three budget-friendly hotel options near the Jejuri Temple. You can search for more options on booking websites like Goibibo, Booking.com, or TripAdvisor.\n* **Places to Visit:** This section outlines popular attractions near Jejuri, including temples, wildlife sanctuaries, forts, and lakes. Each entry includes details like ticket pricing and estimated time for visiting.\n* **Daily Plan:** The daily plan suggests activities and their time allocation for your 9-day trip. You can adjust the itinerary to your preferences and interests. \n\n**Tips for a Cheap Budget:**\n\n* **Travel during the off-season:** Avoid peak tourist season (October-February) to find cheaper flights and accommodation.\n* **Choose budget-friendly accommodation:** Opt for guesthouses, homestays, or budget hotels instead of luxury resorts.\n* **Pack your own food and snacks:** This can help save on dining expenses, especially if you are on a long road trip.\n* **Travel by public transport:** Use local buses or trains to reach attractions instead of hiring private taxis. \n* **Look for free activities:** Many attractions, such as temples and forts, offer free entry.\n* **Negotiate prices:** Bargain for better deals on souvenirs and local products. \n\n**Note:** This itinerary is a suggestion and you can customize it based on your interests and budget. Remember to check the latest travel advisories and guidelines before your trip.\n"},
          ],
        },
      ],
    });
  
    // const result = await chatSession.sendMessage("INSERT_INPUT_HERE");
    // console.log(result.response.text());
  
  
